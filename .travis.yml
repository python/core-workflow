language: python
python:
- "3.5"
- "3.6-dev"
- "3.7-dev"
- "nightly"

dist: trusty
sudo: false
cache: pip

before_install:
- pip install --upgrade flit
install:
- pushd blurb
- flit install
- popd
script:
- blurb test

jobs:
  include:
  - python: "3.6-dev"
    install:
    - pushd cherry_picker
    - flit install
    - popd
    script:
    - pushd cherry_picker
    - pytest cherry_picker/test.py -v
    - popd
  - python: "3.7-dev"
    install:
    - pushd cherry_picker
    - flit install
    - popd
    script:
    - pushd cherry_picker
    - pytest cherry_picker/test.py -v
    - popd
  - python: "nightly"
    install:
    - pushd cherry_picker
    - flit install
    - popd
    script:
    - pushd cherry_picker
    - pytest cherry_picker/test.py -v
    - popd
